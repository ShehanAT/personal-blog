{"componentChunkName":"component---src-templates-blog-post-js","path":"/09-13-2019/","webpackCompilationHash":"","result":{"data":{"site":{"siteMetadata":{"title":"Web Dev Tutorials","author":"Shehan Atuk "}},"markdownRemark":{"id":"ecf02049-3167-55b9-9b61-20fcadeceaf6","excerpt":"Hello everyone, Today I’m going to explain how to implement unit tests for models and controllers in a Ruby on Rails app. This generic app will use RESTful web…","html":"<p>Hello everyone,</p>\n<p>Today I’m going to explain how to implement unit tests for models and controllers in a Ruby on Rails app. This generic app will use RESTful web services by using the HTTP protocol along the with RESTful methods: POST, GET, DELETE, PUT. But first let’s go over some basic definitions.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/163138c84fb90d7e429f32528feec65f/f3710/img1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.45971563981043%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAACRUlEQVQoz42RSUxTURSGrzJYZJDoxpWs0ARdKBHi0KgYFoC2jTbGKCoFJ+IYXYgah1YJXbiQgFSoxhpbI50puFKTUmuMURONxsSFJuqCqCCEFtrXvnvvb18fFUyp8ebk5A7nO/855xLMujiXfOgnhj5MH9MWmR1mVPK2kzi1BGIkE08yku8eYnc2NASWZulIxf+AZYXJUdqyXNyTTZsKaT3hb/qmk/4LliO694YaikfOlI+dKB0/uJgdK8Hol2Rqlhlmydpe2LGLQJePfQrJGguwg6CrPl18BixnDX2DVYvbdbCoYVElTY27GtzchI/eZBhNh/lUt/fr2AVCjQXUWESNhawtj7fmSvurCrQVY/j9zOLJX62+bMc5IlwrGTZVjXRt+GXa+KO7Jty+YqyjMny9jLcQ3KtKzF1SkkyG5Uzf36J1AS4SbsgRr+SLhjxqUMQN86lekdgwfS70WThLEDT+ESOpgjmenYezFl4N3HVw1cK9BR41PKqUbZWePNvg02L8syxJpgbw6hJMBHfmUXtZ3F0hOlcK7jUxZ7nYuyzq2xzzrI15lUJ/NbMUoYfAXQFxIlX20CB6smHOSvCx/prw48Oh4OWwTy3YlsatJRMD26MupeBaH3EqmTlHCuskeH46CUeGYCtFe+InsxJe8FSHHesmfKrJB6vitxaK5kURhzJiXx11VArWUtY5VyJvzEEHwadegq8DeKRFYD/8OvgbePAoe9rM/ToWOMAHm+Bv5IFDLHicBY/wQTlGh8T9k514rf8NdlfHy0+LUyEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Unit tests diagram\"\n        title=\"Unit tests diagram\"\n        src=\"/static/163138c84fb90d7e429f32528feec65f/b9e4f/img1.png\"\n        srcset=\"/static/163138c84fb90d7e429f32528feec65f/cf440/img1.png 148w,\n/static/163138c84fb90d7e429f32528feec65f/d2d38/img1.png 295w,\n/static/163138c84fb90d7e429f32528feec65f/b9e4f/img1.png 590w,\n/static/163138c84fb90d7e429f32528feec65f/f3710/img1.png 633w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p align=\"center\">Figure 1: Unit tests are the base for all testing</p>\n<h3>What is Unit Testing and why is it important?</h3>\n<p>Unit testing is a way of testing each individual component of an application without a focus on how the app works in its totality. Rather, unit tests make sure to test the individual components, testing individual lego blocks before testing structures make out of lego blocks if you will, before all other types of testing are done. </p>\n<p>Why are unit tests important you ask? Let us think of building software applications as analogous to constructing a house, of the sake of clarity. When building a house the foundation, which is the basement area of the to-be house, is built first, because having a strong and stable foundation allows the house to withstand external forces well and allows for additional rooms to be built. Similarly in software development, unit tests ensures that individual components work as expected, while being independent of each other, before integrating the components together to complete the application. </p>\n<h3>Unit Testing in Ruby On Rails:</h3>\n<p>Ruby On Rails comes with testing packages pre-built so it is very easy to start uniting testing. Rails uses the Active Support Core Extension as default for unit testing so let’s go along with that.</p>\n<h3>Unit Testing Models:</h3>\n<p>In order to unit test a model we will need a model, for generating a corresponding database table, and a unit test file. Both of these can be auto-generated using the Rails CLI. Let’s say we want an <code class=\"language-text\">article</code> model with a title field and category field of type string. To generate it we would run: <code class=\"language-text\">rails generate model article title:string category:string</code>. This command creates a <code class=\"language-text\">article.rb</code> file in the <code class=\"language-text\">app/models</code> directory and <code class=\"language-text\">article_test.rb</code> file in the <code class=\"language-text\">test/models</code> directory. </p>\n<p>Now just open the <code class=\"language-text\">article_test.rb</code> file and uncomment the first test you see, it should look like this: </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> test &quot;the truth&quot; do\n    assert true\n  end</code></pre></div>\n<p>This test is a sanity check rather testing the actual model, so let’s run it by running the command: <code class=\"language-text\">rails test RAILS_ENV=test</code>. Now you should see some green symbols along with <code class=\"language-text\">1 runs, 1 assertions, 0 failures, 0 errors, 0 skips</code> at the end. This message is to indicate that all unit tests pass, so let us add another basic unit test right below the one we uncommmented: </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">test &quot;should return truthy article model&quot; do\n    article = Article.new \n    assert article, &quot;article is not truthy&quot;\nend </code></pre></div>\n<p>This test creates an instance of the Article model and checks for truthiness, basically asking: is the <code class=\"language-text\">article</code> object an instance of the model <code class=\"language-text\">Article</code>? After running all tests with <code class=\"language-text\">rails test RAILS_ENV=test</code> you should see <code class=\"language-text\">2 runs, 2 assertions, 0 failures, 0 errors, 0 skips</code>. If you do, congrats we are well on our way to writing more complex tests.</p>\n<p>I will stop here for the sake of brevity, but stay tuned for part 2 of this mini-series where I unit test associations and validations for models using Ruby On Rails.</p>\n<p>Well that’s all for today, I hope you found this review helpful. I would greatly appreciate if you could check out my <a href=\"https://www.youtube.com/channel/UCtxed_NljgtAXrQMMdLvhrQ?\">Youtube channel</a>, follow me on <a href=\"https://twitter.com/Shehan_Atuk\">Twitter</a>, <a href=\"https://www.linkedin.com/in/shehan-a-780622126/\">LinkedIn</a>, <a href=\"https://github.com/ShehanAT\">Github</a> and <a href=\"https://www.instagram.com/shehanthewebdev/\">Instagram</a>.</p>","frontmatter":{"title":"Basic Unit Testing of Models in Ruby On Rails App Part 1","date":"September 13, 2019","description":"Explaing the unit testing of models for Ruby On Rails App"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/09-13-2019/","previous":{"fields":{"slug":"/09-10-2019/"},"frontmatter":{"title":"Using Divi theme to build Wordpress sites and Wordpress best practices"}},"next":null}}}